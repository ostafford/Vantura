<div class="space-y-6">
  <div>
    <%= link_to "â† Back to Transactions", transactions_path, class: "text-blue-600 hover:text-blue-800 mb-4 inline-block" %>
    <h1 class="text-3xl font-bold text-gray-900">Transaction Details</h1>
  </div>

  <div class="bg-white rounded-lg shadow-md p-6">
    <div class="space-y-4">
      <div>
        <p class="text-sm text-gray-500">Description</p>
        <p class="text-lg font-medium text-gray-900"><%= @transaction.description || @transaction.raw_text %></p>
      </div>

      <% if @transaction.message.present? %>
        <div>
          <p class="text-sm text-gray-500">Message</p>
          <p class="text-sm text-gray-700"><%= @transaction.message %></p>
        </div>
      <% end %>

      <div>
        <p class="text-sm text-gray-500">Amount</p>
        <p class="text-2xl font-bold <%= @transaction.debit? ? 'text-red-600' : 'text-green-600' %>">
          <%= @transaction.debit? ? '-' : '+' %><%= number_to_currency(@transaction.amount_abs, unit: "$") %>
        </p>
      </div>

      <div>
        <p class="text-sm text-gray-500">Account</p>
        <p class="text-lg font-medium text-gray-900"><%= @transaction.account.display_name_or_type %></p>
      </div>

      <div>
        <p class="text-sm text-gray-500">Status</p>
        <p class="text-lg font-medium text-gray-900"><%= @transaction.status %></p>
      </div>

      <div>
        <p class="text-sm text-gray-500">Settled At</p>
        <p class="text-lg font-medium text-gray-900">
          <%= @transaction.settled_at&.strftime("%B %d, %Y at %I:%M %p") || "Not settled" %>
        </p>
      </div>

      <% if @transaction.categories.any? %>
        <div>
          <p class="text-sm text-gray-500">Categories</p>
          <div class="flex flex-wrap gap-2 mt-2">
            <% @transaction.categories.each do |category| %>
              <span class="inline-block bg-blue-100 text-blue-800 text-sm px-3 py-1 rounded">
                <%= category.name %>
              </span>
            <% end %>
          </div>
        </div>
      <% end %>

      <% if @transaction.tags.any? %>
        <div>
          <p class="text-sm text-gray-500">Tags</p>
          <div class="flex flex-wrap gap-2 mt-2">
            <% @transaction.tags.each do |tag| %>
              <span class="inline-block bg-gray-100 text-gray-800 text-sm px-3 py-1 rounded">
                <%= tag.name %>
              </span>
            <% end %>
          </div>
        </div>
      <% end %>

      <div>
        <p class="text-sm text-gray-500">Currency</p>
        <p class="text-lg font-medium text-gray-900"><%= @transaction.currency_code %></p>
      </div>
    </div>
  </div>
</div>

